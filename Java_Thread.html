<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!--Description-->

    

    
        <meta name="description" content="Javaä¸å¤šçº¿ç¨‹

å¹¶å‘ï¼šä¸–é—´ä¸‡ç‰©éƒ½å¯ä»¥åŒæ—¶å®Œæˆå¾ˆå¤šå·¥ä½œï¼Œæ¯”å¦‚äººä½“å¯ä»¥åŒæ—¶å®Œæˆå‘¼å¸ï¼Œè¡€æ¶²å¾ªç¯ï¼Œæ€è€ƒé—®é¢˜ï¼Œç”¨æˆ·ä½¿ç”¨è®¡ç®—æœºå¯ä»¥å¬æ­Œï¼Œæ‰“å°æ–‡ä»¶ï¼Œç©æ¸¸æˆï¼Œè¿™äº›æ´»åŠ¨å®Œå…¨å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œè¿™ç§æ€æƒ³åœ¨Javaä¸­è¢«æˆä¸ºå¹¶å‘ï¼Œè€Œå°†å¹¶å‘å®Œæˆçš„æ¯ä¸€ä»¶äº‹æƒ…æˆä¸ºçº¿ç¨‹ã€‚
å¤šçº¿ç¨‹ï¼šå¹¶éæ‰€æœ‰çš„ç¨‹åºè¯­è¨€éƒ½æ”¯æŒçº¿ç¨‹ï¼Œæ¯”å¦‚JavaScrip"/>
    

    <!--Author-->
    
        <meta name="author" content="JabinGP"/>
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Javaä¸å¤šçº¿ç¨‹"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Javaä¸å¤šçº¿ç¨‹

å¹¶å‘ï¼šä¸–é—´ä¸‡ç‰©éƒ½å¯ä»¥åŒæ—¶å®Œæˆå¾ˆå¤šå·¥ä½œï¼Œæ¯”å¦‚äººä½“å¯ä»¥åŒæ—¶å®Œæˆå‘¼å¸ï¼Œè¡€æ¶²å¾ªç¯ï¼Œæ€è€ƒé—®é¢˜ï¼Œç”¨æˆ·ä½¿ç”¨è®¡ç®—æœºå¯ä»¥å¬æ­Œï¼Œæ‰“å°æ–‡ä»¶ï¼Œç©æ¸¸æˆï¼Œè¿™äº›æ´»åŠ¨å®Œå…¨å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œè¿™ç§æ€æƒ³åœ¨Javaä¸­è¢«æˆä¸ºå¹¶å‘ï¼Œè€Œå°†å¹¶å‘å®Œæˆçš„æ¯ä¸€ä»¶äº‹æƒ…æˆä¸ºçº¿ç¨‹ã€‚
å¤šçº¿ç¨‹ï¼šå¹¶éæ‰€æœ‰çš„ç¨‹åºè¯­è¨€éƒ½æ”¯æŒçº¿ç¨‹ï¼Œæ¯”å¦‚JavaScrip"/>
    

    <!--Open Graph Site Name-->
        <meta property="og:site_name" content="JabinGP Blog"/>

    <!--Type page-->
    
        <meta property="og:type" content="article"/>
    

    <!--Page Cover-->
    
    
        <meta property="og:image" content="http://www.jabingp.cn/img/home-bg.jpg"/>
    

        <meta name="twitter:card" content="summary_large_image"/>

    

    
        <meta name="twitter:image" content="http://www.jabingp.cn/img/home-bg.jpg"/>
    

    <!-- Title -->
    
    <title>Javaä¸å¤šçº¿ç¨‹ - JabinGP Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"/>

    <!-- Google Analytics -->
    


    <!-- favicon -->
    

</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/klugjo/hexo-theme-clean-blog">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header addHeader" style="background-image: url('/img/javaToString.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
                <div class="post-heading">
                    <h1>Javaä¸å¤šçº¿ç¨‹</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        <div>
                        
                       
                        
                            2018-12-16
                        
                        </div>
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="addpadding">
            
	            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 addFlat">
	            	
	            	<a class="setTags"  href="/tags/å­¦ä¹ ç¬”è®°/">å­¦ä¹ ç¬”è®°</a> 
	            	                <h3 id="Javaä¸å¤šçº¿ç¨‹"><a href="#Javaä¸å¤šçº¿ç¨‹" class="headerlink" title="Javaä¸å¤šçº¿ç¨‹"></a>Javaä¸å¤šçº¿ç¨‹</h3><hr>
<ul>
<li>å¹¶å‘ï¼šä¸–é—´ä¸‡ç‰©éƒ½å¯ä»¥åŒæ—¶å®Œæˆå¾ˆå¤šå·¥ä½œï¼Œæ¯”å¦‚äººä½“å¯ä»¥åŒæ—¶å®Œæˆå‘¼å¸ï¼Œè¡€æ¶²å¾ªç¯ï¼Œæ€è€ƒé—®é¢˜ï¼Œç”¨æˆ·ä½¿ç”¨è®¡ç®—æœºå¯ä»¥å¬æ­Œï¼Œæ‰“å°æ–‡ä»¶ï¼Œç©æ¸¸æˆï¼Œè¿™äº›æ´»åŠ¨å®Œå…¨å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œè¿™ç§æ€æƒ³åœ¨Javaä¸­è¢«æˆä¸ºå¹¶å‘ï¼Œè€Œå°†å¹¶å‘å®Œæˆçš„æ¯ä¸€ä»¶äº‹æƒ…æˆä¸ºçº¿ç¨‹ã€‚</li>
<li>å¤šçº¿ç¨‹ï¼šå¹¶éæ‰€æœ‰çš„ç¨‹åºè¯­è¨€éƒ½æ”¯æŒçº¿ç¨‹ï¼Œæ¯”å¦‚JavaScriptï¼Œä½†åœ¨Javaä¸­æä¾›äº†å¹¶å‘æœºåˆ¶ï¼Œç¨‹åºå‘˜å¯ä»¥åœ¨ç¨‹åºä¸­æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹å®Œæˆä¸€ä¸ªåŠŸèƒ½ï¼Œå¹¶ä¸å…¶å®ƒçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸ºå¤šçº¿ç¨‹ã€‚</li>
</ul>
<h3 id="æ“ä½œç³»ç»Ÿä¸å¤šçº¿ç¨‹"><a href="#æ“ä½œç³»ç»Ÿä¸å¤šçº¿ç¨‹" class="headerlink" title="æ“ä½œç³»ç»Ÿä¸å¤šçº¿ç¨‹"></a>æ“ä½œç³»ç»Ÿä¸å¤šçº¿ç¨‹</h3><hr>
<blockquote>
<p><em>å¤šçº¿ç¨‹åœ¨ä¸åŒçš„ç³»ç»Ÿä¸­çš„è¡¨ç°æ˜¯ä¸åŒçš„ã€‚</em></p>
</blockquote>
<ul>
<li>Javaçš„å¤šçº¿ç¨‹åœ¨Windwosä¸‹ï¼šWindwosæ“ä½œç³»ç»Ÿæ˜¯å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿï¼Œå®ƒä»¥è¿›ç¨‹ä¸ºå•ä½ã€‚ä¸€ä¸ªè¿›ç¨‹æ˜¯ä¸€ä¸ªåŒ…å«æœ‰è‡ªèº«åœ°å€çš„ç¨‹åºï¼Œæ¯ä¸ªç‹¬ç«‹æ‰§è¡Œçš„ç¨‹åºéƒ½ç§°ä¸ºè¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºã€‚ç³»ç»Ÿå¯ä»¥åˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹ä¸€æ®µæœ‰é™çš„ä½¿ç”¨CPUçš„æ—¶é—´ï¼ˆä¹Ÿå¯ä»¥ç§°ä¸ºCPUæ—¶é—´ç‰‡ï¼‰ï¼ŒCPUåœ¨è¿™æ®µæ—¶é—´ä¸­æ‰§è¡ŒæŸä¸ªè¿›ç¨‹ï¼Œç„¶åä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡ğŸˆ¶è·³è‡³å¦ä¸€ä¸ªè¿›ç¨‹ä¸­å»æ‰§è¡Œã€‚<strong>ç”±äºCPUè½¬æ¢è¾ƒå¿«ï¼Œæ‰€ä»¥ä½¿å¾—æ¯ä¸ªè¿›ç¨‹å¥½åƒæ˜¯åŒæ—¶æ‰§è¡Œä¸€æ ·ã€‚</strong></li>
</ul>
<h3 id="Javaå®ç°å¤šçº¿ç¨‹"><a href="#Javaå®ç°å¤šçº¿ç¨‹" class="headerlink" title="Javaå®ç°å¤šçº¿ç¨‹"></a>Javaå®ç°å¤šçº¿ç¨‹</h3><hr>
<blockquote>
<p><em>å®ç°Javaå¤šçº¿ç¨‹æœ‰ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«ä¸ºç»§æ‰¿java.lang.Threadç±»ã€å’Œå®ç°java.lang.Runnableæ¥å£ã€‚</em></p>
</blockquote>
<h5 id="ç»§æ‰¿java-lang-Threadç±»"><a href="#ç»§æ‰¿java-lang-Threadç±»" class="headerlink" title="ç»§æ‰¿java.lang.Threadç±»"></a>ç»§æ‰¿java.lang.Threadç±»</h5><ul>
<li><p>ç»§æ‰¿</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Threadç±»æ„é€ æ–¹æ³•</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">()</span></span>; <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">(String threadName)</span></span>; <span class="comment">//åˆ›å»ºä¸€ä¸ªåç§°ä¸ºthreadNameçš„çº¿ç¨‹å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°run()æ–¹æ³•<br>å®Œæˆçº¿ç¨‹çœŸæ­£åŠŸèƒ½çš„ä»£ç æ”¾åœ¨ç±»çš„run()æ–¹æ³•ä¸­ã€‚å½“ä¸€ä¸ªç±»ç»§æ‰¿Threadç±»ä¹‹åï¼Œå°±å¯ä»¥åœ¨è¯¥ç±»ä¸­è¦†ç›–run()æ–¹æ³•ï¼Œå°†å®ç°è¯¥çº¿ç¨‹çš„ä»£ç æ”¾å…¥run()æ–¹æ³•ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@override</span> </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ç”¨çº¿ç¨‹ï¼Œè°ƒç”¨run()æ–¹æ³•</p>
<p>  è°ƒç”¨Threadç±»ä¸­çš„start()æ–¹æ³•æ‰§è¡Œçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯run()æ–¹æ³•ã€‚</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public static void main(String []args)</span><br><span class="line">&#123;</span><br><span class="line">    new ThreadTest().start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  <strong>å½“start()æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå·²ç»å¯åŠ¨çš„çº¿ç¨‹ï¼Œç³»ç»Ÿå°†æŠ›å‡ºIllegalThreadStateExceptionå¼‚å¸¸</strong></p>
</li>
<li><p>å®ä¾‹</p>
  <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;     <span class="comment">//ç»§æ‰¿Threadç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            System.out.print(count+<span class="string">" "</span>);</span><br><span class="line">            <span class="keyword">if</span>(--count == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">new</span> ThreadTest().start();			<span class="comment">//è°ƒç”¨run()æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  è¿è¡Œç»“æœä¸º</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/....</span><br><span class="line">10 9 8 7 6 5 4 3 2 1 </span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="å®ç°java-lang-Runnableæ¥å£"><a href="#å®ç°java-lang-Runnableæ¥å£" class="headerlink" title="å®ç°java.lang.Runnableæ¥å£"></a>å®ç°java.lang.Runnableæ¥å£</h5><blockquote>
<p><em>å¦‚æœç¨‹åºå‘˜éœ€è¦ç»§æ‰¿å…¶ä»–ç±»ï¼ˆéThreadç±»ï¼‰ï¼Œè€Œä¸”è¿˜è¦ä½¿å½“å‰ç±»å®ç°å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡Runnableæ¥å£æ¥å®ç°ã€‚</em></p>
</blockquote>
<blockquote>
<p>å®é™…ä¸Šï¼ŒThreadç±»å®ç°äº†Runnableæ¥å£ï¼Œå…¶ä¸­çš„run()æ–¹æ³•æ­£æ˜¯å¯¹Runnableä¸­çš„run()æ–¹æ³•çš„å…·ä½“å®ç°ã€‚</p>
</blockquote>
<p>å®ç°Runnableæ¥å£çš„ç¨‹åºä¼šåˆ›å»ºä¸€ä¸ªThreadå¯¹è±¡ï¼Œå¹¶å°†Runnableå¯¹è±¡ä¸Threadå¯¹è±¡ç›¸å…³è”ã€‚Threadç±»æœ‰ä¸€ä¸‹ä¸¤ä¸ªæ„é€ æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">(Runnable target)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Thread</span><span class="params">(Runnable target,String name)</span></span>;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸¤ä¸ªæ„é€ æ–¹æ³•çš„å‚æ•°éƒ½å­˜åœ¨Runnableå®ä¾‹ï¼Œä½¿ç”¨ä»¥ä¸Šæ„é€ æ–¹æ³•å°±å¯ä»¥å°†Runnableå®ä¾‹ä¸Threadå®ä¾‹ç›¸å…³è”ã€‚</p>
<p>ä½¿ç”¨Runnableæ¥å£å¯åŠ¨æ–°çš„çº¿ç¨‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>å»ºç«‹Runnableå¯¹è±¡ã€‚</p>
</li>
<li><p>ä½¿ç”¨å‚æ•°ä¸ºRunnableå¯¹è±¡çš„æ„é€ æ–¹æ³•åˆ›å»ºThreadå®ä¾‹ã€‚</p>
</li>
<li><p>è°ƒç”¨start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</p>
</li>
</ol>
<p>å®ä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Thread t = <span class="keyword">new</span> Thread(<span class="keyword">new</span> java.lang.Runnable() &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">10</span>;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                    System.out.println(<span class="string">"Runnableçº¿ç¨‹è¾“å‡º"</span>+count);</span><br><span class="line">                    <span class="keyword">if</span>(--count == <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure>
<h3 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h3><hr>
<ul>
<li>å‡ºç”Ÿï¼šåœ¨çº¿ç¨‹å®ä¾‹start()æ–¹æ³•è¢«è°ƒç”¨ä¹‹å‰éƒ½æ˜¯å‡ºç”ŸæœŸ</li>
<li>å°±ç»ªï¼šå½“è°ƒç”¨start()åï¼Œçº¿ç¨‹å¤„äºå°±ç»ªçŠ¶æ€ï¼ˆåˆç§°ä¸ºå¯æ‰§è¡ŒçŠ¶æ€ï¼‰</li>
<li>è¿è¡Œï¼šå½“çº¿ç¨‹å¾—åˆ°ç³»ç»Ÿèµ„æºåå°±è¿›å…¥è¿è¡ŒçŠ¶æ€</li>
</ul>
<p>ä¸€æ—¦çº¿ç¨‹è¿›å…¥å¯æ‰§è¡ŒçŠ¶æ€ï¼Œå®ƒä¼šåœ¨å°±ç»ªä¸è¿è¡ŒçŠ¶æ€ä¸‹åˆ‡æ¢ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¯èƒ½è¿›å…¥ç­‰å¾…ï¼Œä¼‘çœ ï¼Œé˜»å¡æˆ–æ­»äº¡çŠ¶æ€ã€‚</p>
<ul>
<li>ç­‰å¾…ï¼šå½“å¤„äºè¿è¡ŒçŠ¶æ€ä¸‹çš„çº¿ç¨‹è°ƒç”¨Threadç±»ä¸­çš„wait()æ–¹æ³•æ—¶ï¼Œè¯¥çº¿ç¨‹ä¾¿è¿›å…¥ç­‰å¾…çŠ¶æ€</li>
<li>ä¼‘çœ ï¼šå½“çº¿ç¨‹è°ƒç”¨Threadç±»ä¸­çš„sleep()æ–¹æ³•æ—¶ï¼Œåˆ™ä¼šè¿›å…¥ä¼‘çœ çŠ¶æ€</li>
<li>é˜»å¡ï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹åœ¨è¿è¡ŒçŠ¶æ€ä¸‹å‘å‡ºè¾“å…¥/è¾“å‡ºè¯·æ±‚ï¼Œè¯¥çº¿ç¨‹å°†ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œåœ¨å…¶ç­‰å¾…è¾“å…¥è¾“å‡ºç»“æŸæ—¶çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚</li>
<li>æ­»äº¡ï¼šå½“çº¿ç¨‹çš„run()æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œçº¿ç¨‹è¿›å…¥æ­»äº¡çŠ¶æ€</li>
</ul>
<h3 id="çº¿ç¨‹çš„ä¼‘çœ "><a href="#çº¿ç¨‹çš„ä¼‘çœ " class="headerlink" title="çº¿ç¨‹çš„ä¼‘çœ "></a>çº¿ç¨‹çš„ä¼‘çœ </h3><hr>
<p>çº¿ç¨‹çš„ä¼‘çœ ä¾é è°ƒç”¨sleep()æ–¹æ³•å®ç°ï¼Œsleep()æ–¹æ³•éœ€è¦ä¸€ä¸ªå‚æ•°ç”¨äºæŒ‡å®šçº¿ç¨‹ä¼‘çœ çš„æ¯«ç§’æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//sleep()æ–¹æ³•åœ¨run()æ–¹æ³•ä¸­è°ƒç”¨</span></span><br><span class="line">    	<span class="keyword">try</span>&#123;</span><br><span class="line">            Thread.sleep(æ¯«ç§’æ•°);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œtryå’Œcatchæ˜¯è¯­æ³•ä¸­è§„å®šå¿…é¡»å†™çš„ï¼Œsleep()ä¸­æ¥å—çš„æ˜¯ä¸€ä¸ªæ¯«ç§’æ•°ã€‚</p>
<h3 id="çº¿ç¨‹çš„åŠ å…¥"><a href="#çº¿ç¨‹çš„åŠ å…¥" class="headerlink" title="çº¿ç¨‹çš„åŠ å…¥"></a>çº¿ç¨‹çš„åŠ å…¥</h3><hr>
<blockquote>
<p>å¼•è¨€ï¼šå‡å¦‚ä¸€ä¸ªè¯»è€…æ­£åœ¨çœ‹ç”µè§†ï¼Œçªç„¶æœ‰äººä¸Šé—¨æ”¶æ°´è´¹ï¼Œè¯»è€…å¿…é¡»ä»˜å®Œæ°´è´¹åæ‰å¯ä»¥ç»§ç»­çœ‹ç”µè§†ã€‚</p>
</blockquote>
<p>å°±åƒå¼•è¨€è¯´çš„ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹Aéœ€è¦æ’å…¥çº¿ç¨‹Bï¼Œå¹¶è¦æ±‚çº¿ç¨‹Bå…ˆæ‰§è¡Œå®Œæ¯•ï¼Œç„¶åå†æ‰§è¡Œçº¿ç¨‹Aï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨Threadç±»ä¸­çš„join()æ–¹æ³•æ¥å®Œæˆã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String []args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Thread b = <span class="keyword">new</span> Thread (<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> count =<span class="number">30</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                    System.out.println(<span class="string">"Bçº¿ç¨‹è¿è¡Œ"</span>+count);</span><br><span class="line">                    <span class="keyword">if</span>(--count == <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        Thread a = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">10</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                    System.out.println(<span class="string">"Açº¿ç¨‹è¿è¡Œ"</span>+count);</span><br><span class="line">                    <span class="keyword">if</span>(--count == <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        b.join();	<span class="comment">//è°ƒç”¨b</span></span><br><span class="line">                    &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">                    &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        a.start();</span><br><span class="line">        b.start();	</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Bçº¿ç¨‹è¿è¡Œ30</span><br><span class="line">..</span><br><span class="line">Bçº¿ç¨‹è¿è¡Œ13</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ10</span><br><span class="line">Bçº¿ç¨‹è¿è¡Œ12</span><br><span class="line">....</span><br><span class="line">Bçº¿ç¨‹è¿è¡Œ1</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ9</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ8</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ7</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ6</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ5</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ4</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ3</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ2</span><br><span class="line">Açº¿ç¨‹è¿è¡Œ1</span><br></pre></td></tr></table></figure>
<p>bå¯åŠ¨åè¢«açš„run()ä¸­çš„b.join()è°ƒç”¨ï¼Œaçº¿ç¨‹å› æ­¤ä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…bçº¿ç¨‹è¿è¡Œå®Œæˆæ‰ç»§ç»­è¿è¡Œã€‚</p>
<h3 id="çº¿ç¨‹çš„ä¸­æ–­"><a href="#çº¿ç¨‹çš„ä¸­æ–­" class="headerlink" title="çº¿ç¨‹çš„ä¸­æ–­"></a>çº¿ç¨‹çš„ä¸­æ–­</h3><hr>
<p>æ–°çš„JDKå·²ç»åºŸé™¤äº†stop()æ–¹æ³•ï¼Œä¸å»ºè®®ä½¿ç”¨stop()æ–¹æ³•æ¥åœæ­¢ä¸€ä¸ªçº¿ç¨‹çš„è¿è¡Œã€‚ç°åœ¨æå€¡åœ¨run()æ–¹æ³•ä¸­ä½¿ç”¨æ— é™å¾ªç¯çš„å½¢å¼ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå¸ƒå°”å‹æ ‡è®°æ§åˆ¶å¾ªç¯çš„åœæ­¢ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        Thread a = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">            <span class="comment">//è®¾ç½®ä¸€ä¸ªæ ‡è®°å˜é‡æ§åˆ¶å¾ªç¯æ˜¯å¦ç»§ç»­è¿è¡Œï¼Œé»˜è®¤å€¼ä¸ºflase</span></span><br><span class="line">            <span class="keyword">private</span> <span class="keyword">boolean</span> isStop = <span class="keyword">false</span>;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span>(<span class="keyword">true</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(count == <span class="number">100</span>)isStop=<span class="keyword">true</span>;</span><br><span class="line">                    System.out.println(<span class="string">"Açº¿ç¨‹æ­£åœ¨å·¥ä½œ"</span>+count++);</span><br><span class="line">                    <span class="keyword">if</span>(isStop)<span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        a.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Açº¿ç¨‹æ­£åœ¨å·¥ä½œ1</span><br><span class="line">...</span><br><span class="line">Açº¿ç¨‹æ­£åœ¨å·¥ä½œ100</span><br></pre></td></tr></table></figure>
<h3 id="çº¿ç¨‹çš„ç¤¼è®©"><a href="#çº¿ç¨‹çš„ç¤¼è®©" class="headerlink" title="çº¿ç¨‹çš„ç¤¼è®©"></a>çº¿ç¨‹çš„ç¤¼è®©</h3><hr>
<p><code>Thread</code>ç±»ä¸­æä¾›äº†ä¸€ç§ç¤¼è®©æ–¹å¼ï¼Œä½¿ç”¨<code>yield()</code>æ–¹æ³•è¡¨ç¤ºï¼Œå®ƒåªæ˜¯ç»™å½“å‰æ­£å¤„äºè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹ä¸€ä¸ªæé†’ï¼Œå‘ŠçŸ¥å®ƒå¯ä»¥å°†èµ„æºç¤¼è®©ç»™å…¶ä»–çº¿ç¨‹ï¼Œä½†è¿™ä»…ä»…åªæ˜¯ä¸€ç§æš—ç¤ºï¼Œæ²¡æœ‰ä»»ä½•ä¸€ç§æœºåˆ¶ä¿è¯å½“å‰çº¿ç¨‹ä¼šå°†èµ„æºç¤¼è®©ã€‚</p>
<p><code>yield()</code>æ–¹æ³•ä½¿å…·æœ‰åŒæ ·ä¼˜å…ˆçº§çš„çº¿ç¨‹æœ‰è¿›å…¥å¯æ‰§è¡ŒçŠ¶æ€çš„æœºä¼šï¼Œå½“å½“å‰çº¿ç¨‹æ”¾å¼ƒæ‰§è¡Œæƒæ—¶ä¼šå†åº¦å›åˆ°å°±ç»ªçŠ¶æ€ã€‚å¯¹äºæ”¯æŒå¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œä¸éœ€è¦è°ƒç”¨<code>yield()</code>æ–¹æ³•ï¼Œ<strong>å› ä¸ºæ“ä½œç³»ç»Ÿä¼šä¸ºçº¿ç¨‹è‡ªåŠ¨åˆ†é…cpuæ—¶é—´ç‰‡æ¥æ‰§è¡Œ</strong>ã€‚</p>
<h3 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§"><a href="#çº¿ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="çº¿ç¨‹çš„ä¼˜å…ˆçº§"></a>çº¿ç¨‹çš„ä¼˜å…ˆçº§</h3><hr>
<p>Thread ç±»ä¸­åŒ…å«çš„æˆå‘˜å˜é‡ä»£è¡¨äº†çº¿ç¨‹çš„æŸäº›ä¼˜å…ˆçº§ï¼Œå¦‚Thread.MIN_PRIORITY(å¸¸æ•°1)ã€Thread.MAX_PRIORITY(å¸¸æ•°10)ã€Thread.NORM_PRIORITY(å¸¸æ•°5)ã€Thread.MIN_PRIORITY~Thread.MAX_PRIORITY ä¹‹é—´ã€‚</p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹å…¶ä¼˜å…ˆçº§éƒ½æ˜¯Thread.NORM_PRIORITYï¼Œæ¯ä¸ªæ–°äº§ç”Ÿçš„çº¿ç¨‹éƒ½ç»§æ‰¿äº†çˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p>
<h3 id="çº¿ç¨‹åŒæ­¥"><a href="#çº¿ç¨‹åŒæ­¥" class="headerlink" title="çº¿ç¨‹åŒæ­¥"></a>çº¿ç¨‹åŒæ­¥</h3><hr>
<blockquote>
<p>ä¸¤ä¸ªäººåŒæ—¶è¯´è¯ï¼Œä¸¤ä¸ªäººåŒæ—¶è¿‡åŒä¸€ä¸ªç‹¬æœ¨æ¡¥ï¼Œå°±ä¼šå‘ç”ŸæŠ¢å ç°è±¡ï¼Œåœ¨å¤šçº¿ç¨‹ä¸­éœ€è¦é˜²æ­¢è¿™äº›èµ„æºè®¿é—®çš„å†²çªï¼ŒJavaæä¾›äº†çº¿ç¨‹åŒæ­¥çš„æœºåˆ¶æ¥é˜²æ­¢èµ„æºè®¿é—®çš„å†²çªã€‚</p>
</blockquote>
<p>å®é™…å¼€å‘ä¸­ï¼Œä½¿ç”¨å¤šçº¿ç¨‹ç¨‹åºçš„æƒ…å†µå¾ˆå¤šï¼Œå¦‚é“¶è¡Œæ’å·ç³»ç»Ÿã€ç«è½¦ç«™å”®ç¥¨ç³»ç»Ÿç­‰ã€‚è¿™ç§å¤šçº¿ç¨‹çš„ç¨‹åºé€šå¸¸ä¼šå‘ç”Ÿé—®é¢˜ï¼Œä»¥ç«è½¦ç¥¨å”®ç¥¨ç³»ç»Ÿä¸ºä¾‹ï¼Œåœ¨ä»£ç ä¸­åˆ¤æ–­å½“å‰ç¥¨æ•°æ˜¯å¦å¤§äº0ã€ä½†å½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®è¿™æ®µä»£ç æ—¶ï¼ˆåŠ å…¥è¿™æ—¶åªå‰©ä¸‹ä¸€å¼ ç¥¨ï¼‰ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹å°†ç¥¨å”®å‡ºï¼Œä¸æ­¤åŒæ—¶ç¬¬äºŒä¸ªçº¿ç¨‹ä¹Ÿå·²ç»æ‰§è¡Œå®Œæˆåˆ¤æ–­å½“å‰æ˜¯å¦æœ‰ç¥¨çš„æ“ä½œï¼Œå¹¶å¾—å‡ºç¥¨æ•°å¤§äº0çš„ç»“è®ºï¼Œäºæ˜¯å®ƒä¹Ÿæ‰§è¡Œå”®å‡ºæ“ä½œï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿè´Ÿæ•°ã€‚æ‰€ä»¥ç¼–å†™å¤šçº¿ç¨‹ç¨‹åºçš„æ—¶ï¼Œåº”è¯¥è€ƒè™‘åˆ°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚<strong>çº¿ç¨‹å®‰å…¨é—®é¢˜æœ¬è´¨ä¸Šæ¥æºäºä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å­˜å–å•ä¸€å¯¹è±¡çš„æ•°æ®</strong>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Thread.sleep;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">10</span>;       <span class="comment">//è®¾ç½®å½“å‰æ€»ç¥¨æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">"tickets"</span>+num--);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        Test t = <span class="keyword">new</span> Test();    <span class="comment">//å®ä¾‹åŒ–ç±»å¯¹è±¡</span></span><br><span class="line">        Thread tA = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread tB = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread tC = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread tD = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        tA.start();                     <span class="comment">//åˆ†åˆ«å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">        tB.start();</span><br><span class="line">        tC.start();</span><br><span class="line">        tD.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tickets10</span><br><span class="line">tickets9</span><br><span class="line">tickets10</span><br><span class="line">tickets8</span><br><span class="line">tickets7</span><br><span class="line">tickets5</span><br><span class="line">tickets6</span><br><span class="line">tickets4</span><br><span class="line">tickets3</span><br><span class="line">tickets3</span><br><span class="line">tickets2</span><br><span class="line">tickets1</span><br><span class="line">tickets0</span><br><span class="line">tickets-1</span><br><span class="line">tickets-2</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå®ä¾‹ä¸­æœ€åæ‰“å°çš„ç¥¨æ•°ä¸ºè´Ÿå€¼ï¼Œè¿™æ ·å°±å‡ºäº†é—®é¢˜ï¼Œè¿™æ˜¯ç”±äºåŒæ—¶åˆ›å»ºäº†å››ä¸ªçº¿ç¨‹ï¼Œè¿™å››ä¸ªçº¿ç¨‹æ‰§è¡Œrun()æ–¹æ³•ï¼Œåœ¨numå˜é‡ä¸º1æ—¶ï¼Œçº¿ç¨‹1ã€2ã€3ã€4éƒ½å¯¹numå˜é‡æœ‰å­˜å‚¨åŠŸèƒ½ï¼Œå½“çº¿ç¨‹1æ‰§è¡Œrun()æ–¹æ—¶ï¼Œè¿˜æ²¡æœ‰æ¥çš„çº§åšé€’å‡æ“ä½œï¼Œå°±æŒ‡å®šå®ƒè°ƒç”¨sleep()æ–¹æ³•è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œæ­¤æ—¶çº¿ç¨‹2ã€3ã€4éƒ½è¿›å…¥äº†run()æ–¹æ³•ï¼Œå‘ç°numå˜é‡ä¾ç„¶å¤§äº0ï¼Œä½†æ­¤æ—¶çº¿ç¨‹1ä¼‘çœ æ—¶é—´å·²åˆ°ï¼Œå°†numå˜é‡å€¼é€’å‡ï¼ŒåŒæ—¶çº¿ç¨‹2ã€3ã€4ä¹Ÿéƒ½å¯¹numå˜é‡è¿›è¡Œé€’å‡æ“ä½œã€‚</p>
<h3 id="çº¿ç¨‹åŒæ­¥æœºåˆ¶"><a href="#çº¿ç¨‹åŒæ­¥æœºåˆ¶" class="headerlink" title="çº¿ç¨‹åŒæ­¥æœºåˆ¶"></a>çº¿ç¨‹åŒæ­¥æœºåˆ¶</h3><hr>
<p>åŸºæœ¬ä¸Šæ‰€æœ‰è§£å†³å¤šçº¿ç¨‹å†²çªé—®é¢˜çš„æ–¹æ³•éƒ½æ˜¯é‡‡ç”¨ç»™å®šæ—¶é—´åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®å…±äº«èµ„æºï¼Œè¿™æ—¶å°±éœ€è¦ç»™å…±äº«èµ„æºä¸Šä¸€é“é”ã€‚è¿™å°±å¥½æ¯”ä¸€ä¸ªäººä¸Šæ´—æ‰‹é—´ï¼Œä»–è¿›å…¥æ´—æ‰‹é—´åä¼šå°†é—¨é”ä¸Šï¼Œå‡ºæ¥æ—¶å†å°†é”æ‰“å¼€ï¼Œç„¶åå…¶ä»–äººæ‰å¯ä»¥è¿›å…¥ã€‚</p>
<h4 id="åŒæ­¥å—"><a href="#åŒæ­¥å—" class="headerlink" title="åŒæ­¥å—"></a>åŒæ­¥å—</h4><p>åœ¨javaä¸­æä¾›äº†åŒæ­¥æœºåˆ¶ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢èµ„æºå†²çªã€‚åŒæ­¥æœºåˆ¶ä½¿ç”¨<code>synchronized</code>å…³é”®å­—ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Thread.sleep;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span>(<span class="string">""</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span>&#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                    &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(<span class="string">"tickets"</span>+ --num);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        Test t = <span class="keyword">new</span> Test();</span><br><span class="line">        Thread tA = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread tB = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread tC = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        Thread tD = <span class="keyword">new</span> Thread(t);</span><br><span class="line">        tA.start();</span><br><span class="line">        tB.start();</span><br><span class="line">        tC.start();</span><br><span class="line">        tD.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin/java...</span><br><span class="line">tickets9</span><br><span class="line">tickets8</span><br><span class="line">tickets7</span><br><span class="line">tickets6</span><br><span class="line">tickets5</span><br><span class="line">tickets4</span><br><span class="line">tickets3</span><br><span class="line">tickets2</span><br><span class="line">tickets1</span><br><span class="line">tickets0</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸å°†å…±äº«èµ„æºçš„æ“ä½œæ”¾ç½®åœ¨synchronizedå®šä¹‰çš„åŒºåŸŸå†…ï¼Œè¿™æ ·å½“å…¶ä»–çº¿ç¨‹ä¹Ÿè·å–åˆ°äº†è¿™ä¸ªé”æ—¶ï¼Œå¿…é¡»ç­‰å¾…é”è¢«é‡Šæ”¾æ—¶æ‰èƒ½è¿›å…¥è¯¥åŒºåŸŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(Object)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ­¥å—æ˜¯å¦‚ä½•ä¿è¯å•ä¸€çº¿ç¨‹è¿è¡Œçš„ï¼ŸObjectä¸ºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½å­˜åœ¨ä¸€ä¸ªæ ‡å¿—ä½ï¼Œå¹¶å…·æœ‰ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«ä¸º0å’Œ1.ä¸€ä¸ªçº¿ç¨‹è¿è¡Œåˆ°åŒæ­¥å—æ—¶é¦–å…ˆæ£€æŸ¥è¯¥å¯¹è±¡çš„æ ‡è®°ä½ï¼Œå¦‚æœä¸º0çŠ¶æ€ï¼Œè¡¨æ˜æ­¤åŒæ­¥å—ä¸­å­˜åœ¨å…¶ä»–çº¿ç¨‹åœ¨è¿è¡Œã€‚è¯¥çº¿ç¨‹åˆ™è¿›å…¥å°±ç»ªçŠ¶æ€ç›´åˆ°åŒæ­¥å—ä¸­çš„çº¿ç¨‹æ‰§è¡Œå®Œä»£ç å¹¶ä¸”æ ‡è®°ä¸ºè¢«è®¾ç½®ä¸º1åï¼Œè¯¥çº¿ç¨‹æ‰èƒ½æ‰§è¡ŒåŒæ­¥å—ä¸­çš„ä»£ç ã€‚</p>
<h4 id="åŒæ­¥æ–¹æ³•"><a href="#åŒæ­¥æ–¹æ³•" class="headerlink" title="åŒæ­¥æ–¹æ³•"></a>åŒæ­¥æ–¹æ³•</h4><p>åŒæ­¥æ–¹æ³•å°±æ˜¯åœ¨æ–¹æ³•å‰é¢ä¿®é¥°synchronized å…³é”®å­—çš„æ–¹æ³•ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æŸä¸ªå¯¹è±¡è°ƒç”¨äº†åŒæ­¥æ–¹æ³•æ—¶ï¼Œè¯¥å¯¹è±¡ä¸Šçš„å…¶ä»–åŒæ­¥æ–¹æ³•å¿…é¡»ç­‰å¾…è¯¥æ–¹æ³•æ‰§è¡Œå®Œæ¯•åæ‰èƒ½è¢«æ‰§è¡Œã€‚å¿…é¡»å°†æ¯ä¸ªèƒ½è®¿é—®å…±äº«èµ„æºçš„æ–¹æ³•ä¿®é¥°ä¸ºsynchronizedï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">doit</span><span class="params">()</span></span>&#123;    <span class="comment">//å®šä¹‰åŒæ­¥æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">if</span>(num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">10</span>);       </span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"tickets"</span>+ --num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            doit();			<span class="comment">//åœ¨run()æ–¹æ³•ä¸­è°ƒç”¨è¯¥åŒæ­¥æ–¹æ³•</span></span><br><span class="line">        &#125;	</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        Test a = <span class="keyword">new</span> Test();</span><br><span class="line">        a.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

	
	                
	            </div>
	            	          </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/klugjo/hexo-theme-clean-blog" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2018 JabinGP<br></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>